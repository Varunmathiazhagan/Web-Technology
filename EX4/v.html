<!DOCTYPE html>
<html>
<head>
    <title>Registration form</title>
    <link rel="stylesheet" href="css/bootstrap.min.css"/>
    <script src="js/bootstrap.bundle.min.js"></script>
</head>
<body style="background-color:rgb(128, 159, 246);">
<div class="container-fluid">
    <div class="cls1" style="color:white;">
        <h1 class="text-center">Student Registration Form</h1>
    </div>
    <div class="d-flex justify-content-center">
        <div class="card" style="width:80rem;background-color:rgb(255, 255, 255);">
            <form method="post" name="stuform" action="/submit">
                <label class="form-label" for="roll">Roll Number</label><br>
                <input class="form-control" type="text" id="roll" name="roll" pattern="[0-9]{2}[A-z]{3}[0-9]{3}" required/>
                <p id="c1" class="text-danger"></p><br>
                <label class="form-label" for="name">Name</label><br>
                <input class="form-control" type="text" id="name" name="name" required/>
                <p id="c2" class="text-danger"></p><br>
                <label class="form-label" for="gender">Gender</label><br>
                <input type="radio" class="form-check-input" id="male" name="gender" value="Male"/>
                <label class="form-check-label" for="male">Male</label>
                <input type="radio" class="form-check-input" id="female" name="gender" value="Female"/>
                <label class="form-check-label" for="female">Female</label>
                <input type="radio" class="form-check-input" id="other" name="gender" value="other"/>
                <label class="form-check-label" for="other">Other</label><br>
                <p id="c3" class="text-danger"></p><br>
                <label class="form-label" for="pro">Programming languages</label><br>
                <input type="checkbox" class="form-check-input" id="c" name="pro" value="c"/>
                <label class="form-check-label" for="c">C</label><br>
                <input type="checkbox" class="form-check-input" id="c++" name="pro" value="c++"/>
                <label class="form-check-label" for="c++">C++</label><br>
                <input type="checkbox" class="form-check-input" id="java" name="pro" value="java"/>
                <label class="form-check-label" for="java">Java</label><br>
                <input type="checkbox" class="form-check-input" id="python" name="pro" value="python"/>
                <label class="form-check-label" for="python">Python</label>
                <p id="c4" class="text-danger"></p><br>
                <label class="form-label" for="area">Area of Interest</label>
                <select class="form-select" id="sel" name="sel">
                    <option value="DBMS">DBMS</option>
                    <option value="OS">OS</option>
                    <option value="WEB TECH">WEB TECH</option>
                    <option value="AI">AI</option>
                </select>
                <p id="c5" class="text-danger"></p><br>
                <label class="form-label" for="phone">Phone Number</label><br>
                <input class="form-control" type="text" id="phone" name="phone" required/>
                <p id="c6" class="text-danger"></p><br>
                <label class="form-label" for="email">Email</label><br>
                <input class="form-control" type="text" id="email" name="email" required/>
                <p id="c7" class="text-danger"></p><br>
                <label class="form-label" for="pass">Set Password</label><br>
                <input class="form-control" type="password" id="pass" name="pass" maxlength="12" minlength="8" required/>
                <p id="c8" class="text-danger"></p><br>
                <label class="form-label" for="pass1">Confirm Password</label><br>
                <input class="form-control" type="password" id="pass1" name="pass1" maxlength="12" minlength="8" required/>
                <p id="c9" class="text-danger"></p><br>
                <div class="text-center">
                    <button type="button" onclick='window.location.href="formval.html"' class="btn btn-primary">CLEAR</button>
                    <button type="button" onclick="validate()" class="btn btn-primary">SUBMIT</button>
                </div>
            </form>
        </div>
    </div>
</div>
<script>
    function validate(){
        var c=0;
        var a=document.forms["stuform"]["roll"].value;
        if(a==""){
            document.getElementById("c1").innerHTML="*Please enter your roll number";
            c=1;
        }else {
            var rollPattern = /^[0-9]{2}[A-Za-z]{3}[0-9]{3}$/;
            if (!rollPattern.test(a)) {
                document.getElementById("c1").innerHTML = "*Invalid roll number format";
                c++;
            } else {
                document.getElementById("c1").innerHTML = "";
            }
        }
        var b=document.forms["stuform"]["name"].value;
        if(b==""){
            document.getElementById("c2").innerHTML="*Please enter your name";
            c=1;
        }else{
            var namePattern = /^[A-Za-z\s]+$/;
            if (!namePattern.test(b)||b==="") {
                document.getElementById("c2").innerHTML = "*Invalid name format";
                c++;
            } else {
                document.getElementById("c2").innerHTML = "";
            }
        }
        var d=document.getElementsByName("gender");
        let flag=false;
        for(let r of d){
            if(r.checked){
                flag=true;
            }
        }
        if(flag==false){
            document.getElementById("c3").innerHTML="*Please select your gender";
            c=1;
        } else {
            document.getElementById("c3").innerHTML="";
        }

        var e=document.querySelectorAll('input[name="pro"]:checked');
        if(e.length==0){
            document.getElementById("c4").innerHTML="*Please select atleast one programming language";
            c=1;
        } else {
            document.getElementById("c4").innerHTML="";
        }

        var se=document.forms["stuform"]["sel"].value;
        if(se==""){
            document.getElementById("c5").innerHTML="*Please select your area of interest";
            c=1;
        } else {
            document.getElementById("c5").innerHTML="";
        }

        var ph=document.forms["stuform"]["phone"].value;
        if(ph==""){
            document.getElementById("c6").innerHTML="*Please enter your phone number";
            c=1;
        }else {
            var phonePattern = /^[0-9]{10}$/;
            if (!phonePattern.test(ph)) {
                document.getElementById("c6").innerHTML = "*Invalid phone number format";
                c=1;
            } else {
                document.getElementById("c6").innerHTML = "";
            }
        }

        var em=document.forms["stuform"]["email"].value;
        if(em==""){
            document.getElementById("c7").innerHTML="*Please enter your email id";
            c=1;
        }else {
            var emailPattern = /^[^\s@]+@[^\s@]+\.[A-Za-z]+$/;
            if (!emailPattern.test(em)) {
                document.getElementById("c7").innerHTML = "*Invalid email format";
                c=1;
            } else {
                document.getElementById("c7").innerHTML = "";
            }
        }

        var pass1=document.forms["stuform"]["pass"].value;
        if(pass1==""){
            document.getElementById("c8").innerHTML="*Please enter your password";
            c=1;
        }else {
            var passPattern = /^(?=.[a-z])(?=.[A-Z])(?=.\d)(?=.[^A-Za-z0-9]).{8,12}$/;
            if (!passPattern.test(pass1)) {
                document.getElementById("c8").innerHTML = "*Your password should contain 1 uppercase letter, 1 digit, 1 special character and be between 8 to 12 characters";
                c=1;
            } else {
                document.getElementById("c8").innerHTML = "";
            }
        }

        var pass2=document.forms["stuform"]["pass1"].value;
        if(pass2==""){
            document.getElementById("c9").innerHTML="*Please confirm your password";
            c=1;
        }else {
            if (pass1 !== pass2) {
                document.getElementById("c9").innerHTML = "*Passwords do not match";
                c=2;
            } else {
                document.getElementById("c9").innerHTML = "";
            }
        }

        if(c==1){
            alert("Please fill all the details")
        }
        if(c==0){
            alert("Submitted successfully")
        }
    }
</script>
</body>
</html>